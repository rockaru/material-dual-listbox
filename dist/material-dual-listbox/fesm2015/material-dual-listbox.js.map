{"version":3,"file":"material-dual-listbox.js","sources":["../../../projects/material-dual-listbox/src/lib/material-dual-listbox.component.ts","../../../projects/material-dual-listbox/src/lib/material-dual-listbox.module.ts","../../../projects/material-dual-listbox/src/public-api.ts","../../../projects/material-dual-listbox/src/material-dual-listbox.ts"],"sourcesContent":["import { Component, Input, EventEmitter, IterableDiffers, Output, OnInit, OnChanges, ÉµConsole } from '@angular/core';\nimport { CdkDragDrop, moveItemInArray, transferArrayItem } from '@angular/cdk/drag-drop';\n\n\n\n@Component({\n  selector: 'material-dual-listbox',\n  templateUrl: './material-dual-listbox.component.html',\n  styles: ['./material-dual-listbox.component.scss']\n})\nexport class MaterialDualListboxComponent implements OnInit {\n\n  @Input() display: any = 'name';\n  @Input() width = '360px';\n  @Input() filter = true;\n  @Input() searchPlaceholder: string = 'Filter'\n  @Input() itemsTitle: string = 'Items'\n  @Input() selectedItemsTitle: string = 'Selected Items'\n  @Input() header = false\n  @Input() showIcons = true\n  @Input() addIcon: string = 'add';\n  @Input() addIconColor: string = 'black'\n  @Input() removeIcon: string = 'delete';\n  @Input() removeIconColor: string = 'black'\n  @Input() source: Array<any> = [];\n  @Input() destination: Array<any> = [];\n  @Output() destinationChange = new EventEmitter();\n\n  availableFiltered: Array<any> = []\n  confirmedFiltered: Array<any> = []\n  filterText: string = null\n\n  constructor() {}\n\n  ngOnInit() {\n    this.update()\n  }\n\n  update() {\n    this.filterItems(this.filterText);\n    \n  }\n\n  drop(event: CdkDragDrop<string[]>) {\n    if (event.previousContainer === event.container) {\n      moveItemInArray(event.container.data, event.previousIndex, event.currentIndex);\n      console.log(event)\n    } else {\n      transferArrayItem(event.previousContainer.data, event.container.data, event.previousIndex, event.currentIndex);\n      this.destination = this.confirmedFiltered\n      this.destinationChange.emit(this.destination);\n    }\n  }\n\n  clickedItem(item: string[], ...targets: string[]) {\n    \n    this[targets[0]] = [\n      ...this[targets[1]].splice(this[targets[1]].findIndex(x=>x[this.display]==item), 1),\n      ...this[targets[0]]\n    ]\n    this.destination = this.confirmedFiltered\n    this.destinationChange.emit(this.destination);\n  }\n\n  filterItems(text: string) {\n    this.filterText = text;\n    if (!text) {\n      this.availableFiltered = this.source.filter(n=>!this.destination.includes(n))\n      return;\n    }\n    this.availableFiltered = this.availableFiltered\n      .filter(item => item[this.display].toLowerCase().includes(text.toLowerCase()));\n  }\n\n}\n\n\n\n","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { MaterialDualListboxComponent } from './material-dual-listbox.component';\nimport { MatInputModule } from '@angular/material/input'\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatListModule } from '@angular/material/list';\nimport { FormsModule } from '@angular/forms';\nimport { MatFormFieldModule } from '@angular/material/form-field'\nimport { DragDropModule } from '@angular/cdk/drag-drop';\n@NgModule({\n  declarations: [MaterialDualListboxComponent],\n  imports: [\n    BrowserModule,\n    MatIconModule,\n    MatInputModule,\n    MatListModule,\n    FormsModule,\n    MatFormFieldModule,\n    DragDropModule\n  ],\n  exports: [MaterialDualListboxComponent]\n})\nexport class MaterialDualListboxModule { }\n","/*\n * Public API Surface of material-dual-listbox\n */\n\nexport * from './lib/material-dual-listbox.component';\nexport * from './lib/material-dual-listbox.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}