{"version":3,"file":"material-dual-listbox.js","sources":["../../../projects/material-dual-listbox/src/lib/material-dual-listbox.component.ts","../../../projects/material-dual-listbox/src/lib/material-dual-listbox.module.ts","../../../projects/material-dual-listbox/src/public-api.ts","../../../projects/material-dual-listbox/src/material-dual-listbox.ts"],"sourcesContent":["import { Component, Input, EventEmitter, IterableDiffers, Output, OnInit, OnChanges, ÉµConsole } from '@angular/core';\r\nimport { CdkDragDrop, moveItemInArray, transferArrayItem } from '@angular/cdk/drag-drop';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'material-dual-listbox',\r\n  templateUrl: './material-dual-listbox.component.html',\r\n  styles: ['./material-dual-listbox.component.scss']\r\n})\r\nexport class MaterialDualListboxComponent implements OnInit {\r\n\r\n  @Input() display: any = 'name';\r\n  @Input() width = '360px';\r\n  @Input() filter = true;\r\n  @Input() searchPlaceholder: string = 'Filter'\r\n  @Input() itemsTitle: string = 'Items'\r\n  @Input() selectedItemsTitle: string = 'Selected Items'\r\n  @Input() header = false\r\n  @Input() showIcons = true\r\n  @Input() addIcon: string = 'add';\r\n  @Input() addIconColor: string = 'black'\r\n  @Input() removeIcon: string = 'delete';\r\n  @Input() removeIconColor: string = 'black'\r\n  @Input() source: Array<any> = [];\r\n  @Input() destination: Array<any> = [];\r\n  @Output() destinationChange = new EventEmitter();\r\n\r\n  availableFiltered: Array<any> = []\r\n  confirmedFiltered: Array<any> = []\r\n  filterText: string = null\r\n  filterSelectedText: string = null\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit() {\r\n    this.update()\r\n  }\r\n\r\n  update() {\r\n    this.filterItems(this.filterText);\r\n    this.filterSelectedItems(this.filterSelectedText);\r\n  }\r\n\r\n  drop(event: CdkDragDrop<string[]>) {\r\n    if (event.previousContainer === event.container) {\r\n      moveItemInArray(event.container.data, event.previousIndex, event.currentIndex);\r\n      console.log(event)\r\n    } else {\r\n      transferArrayItem(event.previousContainer.data, event.container.data, event.previousIndex, event.currentIndex);\r\n      this.destination = this.confirmedFiltered\r\n      this.destinationChange.emit(this.destination);\r\n    }\r\n  }\r\n\r\n  clickedItem(item: string[], ...targets: string[]) {\r\n    \r\n    this[targets[0]] = [\r\n      ...this[targets[1]].splice(this[targets[1]].findIndex(x=>x[this.display]==item), 1),\r\n      ...this[targets[0]]\r\n    ]\r\n    this.destination = this.confirmedFiltered\r\n    this.destinationChange.emit(this.destination);\r\n  }\r\n\r\n  filterItems(text: string) {\r\n    this.filterText = text;\r\n    if (!text) {\r\n      this.availableFiltered = this.source;\r\n      return;\r\n    }\r\n    this.availableFiltered = this.source\r\n      .filter(item => item[this.display].toLowerCase().includes(text.toLowerCase()));\r\n  }\r\n\r\n  filterSelectedItems(text: string) {\r\n    this.filterSelectedText = text;\r\n    if (!text) {\r\n      this.confirmedFiltered = this.destination\r\n\r\n      return;\r\n    }\r\n    this.confirmedFiltered = this.destination.filter(item => item[this.display].toLowerCase().includes(text.toLowerCase()));\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { MaterialDualListboxComponent } from './material-dual-listbox.component';\r\nimport { MatInputModule } from '@angular/material/input'\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatListModule } from '@angular/material/list';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { MatFormFieldModule } from '@angular/material/form-field'\r\nimport { DragDropModule } from '@angular/cdk/drag-drop';\r\n@NgModule({\r\n  declarations: [MaterialDualListboxComponent],\r\n  imports: [\r\n    BrowserModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatListModule,\r\n    FormsModule,\r\n    MatFormFieldModule,\r\n    DragDropModule\r\n  ],\r\n  exports: [MaterialDualListboxComponent]\r\n})\r\nexport class MaterialDualListboxModule { }\r\n","/*\r\n * Public API Surface of material-dual-listbox\r\n */\r\n\r\nexport * from './lib/material-dual-listbox.component';\r\nexport * from './lib/material-dual-listbox.module';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}